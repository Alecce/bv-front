
<form [formGroup]="form">
  <div class="row">
    <div class="col-auto mr-0 pr-0">

      <div class="row mr-0 pr-0 my-2 d-flex justify-content-end" *ngFor="let s of systems">

        <button class="btn btn-sm btn-block rounded-0" [ngClass]="getTabColor()" (click)="choseSystem(s.value)">
          <app-text page="wines_votes" default="{{s.name}}"></app-text>
        </button>
      </div>
    </div>

    <div class="col border-left-3-lightgray" *ngIf="system.value=='system20'">
      <div class="row" formGroupName="full">
        <div class="col" *ngFor="let c of threeCols">
          <div *ngFor="let system of systemToShow">
            <div *ngFor="let select of system.selects">
              <div>
                <div *ngIf="c == select.colNumber">
                  <div class="row">
                    <div class="form-group col">
                      <app-text page="wines_votes" place="{{langService.morphStr(select.criteria)}}" default="{{select.criteria}}" class="text-muted font-weight-bold"></app-text>
                    </div>
                  </div>

                  <div class="row" *ngFor="let option of select.options; let i=index">
                    <div class="form-group col">

                      <div class="pretty p-default p-round">
                        <input type="radio" value="{{option.cost}}" formControlName="{{system.part + '_' + select.criteria}}">
                        <div class="state p-primary">
                          <label>
                            <app-text page="wines_votes" place="{{langService.morphStr(option.name)}}" default="{{option.name}}"></app-text>
                          </label>
                        </div>
                      </div>
                      <app-text page="wines_votes" place="{{langService.morphStr(option.name)}}" default="{{option.name}}" *ngIf="langService.editable"></app-text>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col border-left-3-lightgray" *ngIf="system.value=='system100'">
      <div class="row" formGroupName="full">
        <div class="col">

          <div class="row">
            <div class="col-8 offset-2">
              <div class="row">
                <div class="col offset-3">
                  <div class="row">
                    <div class="col d-flex justify-content-center" *ngFor="let option of system100[0].selects[0].options; let i=index">
                      <app-text page="wines_votes" place="{{langService.morphStr(system100[0].selects[0].options[system100[0].selects[0].options.length - 1 - i].name)}}"
                      default="{{system100[0].selects[0].options[system100[0].selects[0].options.length - 1 - i].name}}" class="small text-muted"></app-text>

                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row" *ngFor="let system of systemToShow">
            <div class="col-2">
              <app-text page="wines_votes" place="{{langService.morphStr(system.part)}}" default="{{system.part}}" class="text-muted font-weight-bold"></app-text>
            </div>
            <div class="col-8">
              <div class="row" *ngFor="let select of system.selects; let j=index">
                <div class="col-3">
                  <app-text page="wines_votes" place="{{langService.morphStr(select.criteria)}}" default="{{select.criteria}}" class="text-muted"></app-text>
                </div>
                <div class="col" *ngFor="let option of select.options; let i=index">
                  <!--<div class="row">-->
                    <!--<div class="col">-->
                      <!---->
                    <!--</div>-->
                  <!--</div>-->
                  <div class="row">

                    <div class="col">
                      <div class="row border-bottom-4-chrome my-auto h-50" *ngIf="i != 0"></div>
                      <div class="row my-auto"></div>
                    </div>
                    <div class="col-auto mx-0 px-0">
                      <div class="row">
                        <div class="col">
                          <div class="pretty p-default p-round mr-0">
                            <input type="radio" value="{{select.options[select.options.length - 1 - i].cost}}" formControlName="{{system.part + '_' + select.criteria}}" mat-raised-button
                                   [matTooltip]="select.options[select.options.length - 1 - i].name"
                                   matTooltipPosition="above"
                            >
                            <div class="state p-primary">
                              <label>
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col">
                      <div class="row border-bottom-4-chrome my-auto h-50" *ngIf="i != 4"></div>
                      <div class="row my-auto"></div>
                    </div>
                  </div>


                </div>
              </div>
            </div>
          </div>
        </div>
        <!--<div class="col" *ngFor="let c of threeCols">-->
          <!--<div *ngFor="let system of systemToShow">-->
            <!--<div *ngFor="let select of system.selects">-->
              <!--<div>-->
                <!--<div *ngIf="c == select.colNumber">-->
                  <!--<div class="row">-->
                    <!--<div class="form-group col">-->
                      <!--<app-text page="wines_votes" place="{{langService.morphStr(select.criteria)}}" default="{{select.criteria}}" class="text-muted font-weight-bold"></app-text>-->
                    <!--</div>-->
                  <!--</div>-->

                  <!--<div class="row" *ngFor="let option of select.options; let i=index">-->
                    <!--<div class="form-group col">-->

                      <!--<div class="pretty p-default p-round">-->
                        <!--<input type="radio" value="{{option.cost}}" formControlName="{{system.part + '_' + select.criteria}}">-->
                        <!--<div class="state p-primary">-->
                          <!--<label>-->
                            <!--<app-text page="wines_votes" place="{{langService.morphStr(option.name)}}" default="{{option.name}}"></app-text>-->
                          <!--</label>-->
                        <!--</div>-->
                      <!--</div>-->
                    <!--</div>-->
                  <!--</div>-->
                <!--</div>-->
              <!--</div>-->
            <!--</div>-->



          <!--</div>-->
        <!--</div>-->

        <!--<div class="row my-0 py-1">-->
        <!--<div class="form-group col">-->
        <!--<div class="pretty p-default p-round">-->
        <!--<input type="radio" value="inox" formControlName="fermentation_type">-->
        <!--<div class="state p-primary">-->
        <!--<label>-->
        <!--<app-text page="wines" default="Inox" class="text-muted"></app-text>-->
        <!--</label>-->
        <!--</div>-->
        <!--</div>-->
        <!--<div class="pretty p-default p-round">-->
        <!--<input type="radio" value="barriques" formControlName="fermentation_type">-->
        <!--<div class="state p-primary">-->
        <!--<label>-->
        <!--<app-text page="wines" default="Barriques" class="text-muted"></app-text>-->
        <!--</label>-->
        <!--</div>-->
        <!--</div>-->
        <!--</div>-->
        <!--</div>-->


      </div>
    </div>
    <div class="col border-left-3-lightgray" *ngIf="system.value=='system5' || system.value=='system5_2'">
      <div formGroupName="full">
        <!--<div *ngIf="system.value!='system5' && system.value!='system5_2'">-->
          <!--<div *ngFor="let system of systemToShow">-->
            <!--<div class="form-group row">-->
              <!--<label class="col text-center my-auto">-->
                <!--<app-text page="wines_votes" place="{{langService.morphStr(system.part)}}" default="{{system.part}}"></app-text>-->
              <!--</label>-->
            <!--</div>-->
            <!--<div *ngFor="let select of system.selects">-->
              <!--<div  class="form-group row">-->
                <!--<label class="col-4 text-right my-auto">-->
                  <!--<app-text page="wines_votes" place="{{langService.morphStr(select.criteria)}}" default="{{select.criteria}}"></app-text>-->
                <!--</label>-->
                <!--<div class="col-4 row">-->
                  <!--<div class="col-auto p-1" *ngFor="let option of select.options; let i=index">-->
                    <!--<input id="{{system.part + '_' + select.criteria + '_' + i}}" type="radio" value="{{option.cost}}" formControlName="{{system.part + '_' + select.criteria}}">-->
                    <!--<label for="{{system.part + '_' + select.criteria + '_' + i}}">-->
                      <!--<app-text page="wines_votes" place="{{langService.morphStr(option.name)}}" default="{{option.name}}"></app-text>-->
                    <!--</label>-->

                  <!--</div>-->
                <!--</div>-->
              <!--</div>-->
            <!--</div>-->
          <!--</div>-->
          <!--<div class="form-group row"  *ngIf="system.value!='system0'">-->
            <!--<label class="col text-center my-auto">-->
              <!--<app-text page="wines_votes" place="total" default="Total:"></app-text>-->
            <!--</label>-->
            <!--<label class="col text-center my-auto">{{result}}</label>-->
          <!--</div>-->
        <!--</div>-->
        <div class="row">
          <div class="col-4 offset-4">
            <div>

              <ng-template #star let-fill="fill">
                <span class="star" [class.full]="fill === 100">
                  <span class="half" [style.width.%]="fill">&#9733;</span>&#9733;
                </span>
              </ng-template>
              <ng-template #heart let-fill="fill">
                <span class="star" [class.full]="fill === 100">
                  <span class="half" [style.width.%]="fill">&hearts;</span>&hearts;
                </span>
              </ng-template>
              <ngb-rating [(rate)]="system.value=='system5_2'?currentRateStars:currentRateHearts" [starTemplate]="system.value=='system5_2'?star:heart" (click)="starRate()"></ngb-rating>
            </div>
          </div>
        </div>
        <!--<div class="row">-->
          <!--<div class="col-4 offset-4">-->
            <!--<button class="btn btn-success btn-block" (click)="submit()" [disabled]="form.invalid">-->
              <!--<app-text page="wines_votes" place="vote" default="Vote"></app-text>-->
            <!--</button>-->
          <!--</div>-->
        <!--</div>-->
      </div>
    </div>

    <div class="col-auto">
      <div class="row" *ngIf="system.value!='system5' && system.value!='system5_2'">
        <div class="form-group col">
          <app-text page="wines_votes" default="Total score:" class="text-muted font-weight-bold"></app-text>
          <span class="text-muted font-weight-bold">{{result}}</span>
        </div>
      </div>
      <div class="row my-0 py-1">
        <div class="col my-auto d-flex  justify-content-center">
          <button class="btn btn-info btn-sm" (click)="submit()">
            <app-text page="wines"  default="Vote"></app-text>
          </button>
        </div>
      </div>
    </div>
  </div>
</form>

<!--Words for translater-->

<div [hidden]="true">

  <!--no need-->

</div>
